"use strict";angular.module("pechakuchaAppApp",["ngAnimate","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/pechakucha",{templateUrl:"views/pechakucha.html",controller:"PechakuchaCtrl",controllerAs:"pechakucha"}).otherwise({redirectTo:"/"})}]),angular.module("pechakuchaAppApp").controller("MainCtrl",["$scope","AjaxFactory","RandomService",function(a,b,c){a.startPecha=function(){function d(){var e=b.getContent();e.then(function(b){var e,g=b.data.response.posts;e=c.randomIntFromInterval(0,49),console.log(e),-1!==f.indexOf(e)?d():(f.push(e),a.photourl=g[e].photos[0].original_size.url,a.remaining=a.remaining-1)})}function e(b,c,d){var e=0,f=window.setInterval(function(){b(),++e===d&&(a.piilo=!a.piilo,window.clearInterval(f))},c)}(a.piilo=!1)&&(a.piilo=!0),a.remaining=20;var f=[];d(),e(d,2e4,20)}}]),angular.module("pechakuchaAppApp").controller("PechakuchaCtrl",function(){}),angular.module("pechakuchaAppApp").directive("main",function(){return{restrict:"E",replace:!0,templateUrl:"views/main.html",controller:"MainCtrl"}}),angular.module("pechakuchaAppApp").directive("main",function(){return{restrict:"E",replace:!0,templateUrl:"views/pechakucha.html",controller:"PechakuchaCtrl"}}),angular.module("pechakuchaAppApp").factory("AjaxFactory",["$http",function(a){var b="wUoQDRVc32IyOToAIVKFzrrfNvEfLUbbdGh3VhzNntgXsW0RBN",c="http://api.tumblr.com/v2/blog/theuniverseofstyle.tumblr.com/posts/photo?api_key="+b+"&limit=50&callback=JSON_CALLBACK",d={};return d.getContent=function(){return a.jsonp(c)},d}]),angular.module("pechakuchaAppApp").factory("RandomService",function(){function a(a,b){return Math.floor(Math.random()*(b-a+1)+a)}var b={randomIntFromInterval:a};return b}),angular.module("pechakuchaAppApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="row"> <div class="col-xs-10 col-xs-offset-1"> <div class="info"> <h1>Nice to meet you</h1> <div class="description"> <h2>Twenty random pictures will soon represent you.</h2> <h2>You\'ve got twenty seconds per picture to tell how it is now a part of your story.</h2> </div> <button class="btn" id="startPecha" type="button" ng-click="startPecha()" data-toggle="modal" data-target="#myModal">So, who are you?</button> </div> <!--\n        <div ng-show="piilo">\n            <img ng-src="{{photourl}}">\n            <p>Photos remaining: {{remaining}}</p>\n        </div>\n--> <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-body"> <div ng-hide="piilo"> <p>Photos remaining: {{remaining}}</p> <img ng-src="{{photourl}}"> </div> <div ng-show="piilo"> <button class="btn" type="button" ng-click="startPecha()">Again?</button> </div> </div> </div> </div> </div> <div class="description"> <h3>It\'s just like Pecha Kucha, only with a little twist.</h3> </div> </div> </div>'),a.put("views/pechakucha.html","<p>This is the about view.</p>")}]);